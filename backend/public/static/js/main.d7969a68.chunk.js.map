{"version":3,"sources":["components/Header/Header.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","contexts/currentUserContext.js","components/Card/Card.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/Main/Main.js","components/Footer/Footer.js","utils/api.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","className","PopupWithForm","props","name","isOpen","type","noValidate","formType","action","method","agree","formTitle","children","typeButton","aria-label","buttonName","onClick","onClose","ImagePopup","Object","keys","this","card","length","src","link","alt","React","Component","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","onCardLike","onCardDelete","EditProfilePopup","useState","setName","description","setDescription","useEffect","about","id","required","minLength","maxLength","placeholder","value","onChange","e","target","preventDefault","onSubmit","EditAvatarPopup","avatar","useRef","ref","current","AddPlacePopup","Main","likeCard","handleCardDelete","onDeleteCards","style","backgroundImage","onEditAvatar","onEditProfile","onAddPlace","cards","map","key","isEditProfilePopupOpen","onUpdateUser","profileName","profileJob","selectedCard","isAddPlacePopupOpen","onUpdateCards","isEditAvatarPopupOpen","onUpdateAvatar","Footer","api","baseURL","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","cardId","cardName","cardLink","body","JSON","stringify","App","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","setIsEditAvatarPopupOpen","setSelectedCard","setCurrentUser","setCards","all","getUserInformation","getItems","userInfo","firstCards","catch","err","console","log","Provider","deleteItem","newCards","filter","c","profileEditing","avatarEditing","removeLike","newCard","putLike","createItem","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.d7969a68.chunk.js","sourcesContent":["import React from 'react';\r\n//import './Header.css'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n        <div className=\"header__logo\"></div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? `popup_open` : ``}`}>\r\n            <div className={`popup__edit popup__edit_${props.type}`}>\r\n                <form noValidate name=\"formChange\" className={`form form_${props.formType}`} action=\"#\" method=\"post\">\r\n                    <h2 className={`form__title ${props.agree}`}>{props.formTitle}</h2>\r\n                    {props.children}\r\n                    <button name=\"buttonChangeSave\" className={`form__button ${props.typeButton}`} aria-label={`${props.typeButton}`}>{props.buttonName}</button>\r\n                </form>\r\n                <button onClick={props.onClose} name=\"buttonChangeClose\" type=\"button\" className=\"popup__close\"></button>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nclass ImagePopup extends React.Component {\r\n    //!this.props.card ? `popup popup_photo popup_open` : `popup popup_photo`\r\n    render() {\r\n        return (\r\n            <section className={`popup ${Object.keys(this.props.card).length > 0 ? \"popup_open\" : \"\"}`}>\r\n                <div className=\"pop-image\">\r\n                    <div className=\"pop-image__container\">\r\n                        <img className=\"pop-image__image\" src={this.props.card.link} alt=\"\" />\r\n                        <p className=\"pop-image__about\">{this.props.card.name}</p>\r\n                        <button type=\"button\" onClick={this.props.onClose} className=\"popup__close pop-image__close\"></button>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/currentUserContext.js';\r\n\r\nexport default function Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? '' : 'element__delete_hidden'}`\r\n    ); \r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (`element__like ${isLiked ? 'element__like_black' : ''}`); \r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLike() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDelete() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    \r\n    return (\r\n        <li className=\"element\">\r\n            <img className=\"element__photo\" src={`${props.card.link}`} onClick={handleClick} alt=\"Описание фото\" />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__name\">{props.card.name}</h2>\r\n                <div className=\"element__data\">\r\n                    <button type=\"button\" className= {cardLikeButtonClassName} onClick={handleLike} aria-label=\"Лайк\"></button>\r\n                    <p className=\"element__counter\">{`${props.card.likes.length}`}</p>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete} aria-label=\"Удалить\"></button>\r\n        </li> \r\n        );\r\n}","import React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/currentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]); \r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onSubmit(name, description);\r\n\r\n        setName('');\r\n        setDescription('');\r\n\r\n        props.onClose();\r\n    }\r\n\r\n    return (\r\n        <section className={`popup popup_info ${props.isOpen ? `popup_open` : ``}`}>\r\n            <div className={`popup__edit popup__edit_changeName`}>\r\n                <form noValidate name=\"formChange\" className={`form form_change`} action=\"#\" method=\"post\">\r\n                    <h2 className={`form__title`}>Редактировать профиль</h2>\r\n                    <input id=\"name-input\" name=\"inputChangeName\" required className=\"form__input form__input_el_name\" type=\"text\" minLength=\"2\" maxLength=\"40\" placeholder=\"Введите имя\" value={name} onChange={handleChangeName}/>\r\n                    <span id=\"name-input-error\" className=\"form__input-error form__input-error_el_name\"></span>\r\n                    <input id=\"job-input\" name=\"inputChangeJob\" required className=\"form__input form__input_el_spec\" type=\"text\" minLength=\"2\" maxLength=\"200\" placeholder=\"Специализация\" value={description} onChange={handleChangeDescription}/>\r\n                    <span id=\"job-input-error\" className=\"form__input-error form__input-error_el_spec\"></span>\r\n                    <button name=\"buttonChangeSave\" className={`form__button`} onClick={handleSubmit} aria-label={`save`}>Сохранить</button>\r\n                </form>\r\n                <button onClick={props.onClose} name=\"buttonChangeClose\" type=\"button\" className=\"popup__close\"></button>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onSubmit(avatar.current.value);\r\n\r\n        props.onClose();\r\n    }\r\n\r\n    return (\r\n        <section className={`popup popup_updatePhoto ${props.isOpen ? `popup_open` : ``}`}>\r\n            <div className={`popup__edit popup__edit_update`}>\r\n                <form noValidate name=\"formChange\" className={`form form_update`} action=\"#\" method=\"post\">\r\n                    <h2 className={`form__title ${props.agree}`}>Обновить аватар</h2>\r\n                    <input id=\"job-input\" name=\"inputChangeJob\" ref={avatar} required className=\"form__input form__input_el_spec\" type=\"text\" minLength=\"2\" maxLength=\"200\" placeholder=\"Ссылка\"/>\r\n                    <span id=\"job-input-error\" className=\"form__input-error form__input-error_el_spec\"></span>\r\n                    <button name=\"buttonChangeSave\" className={`form__button`} onClick={handleSubmit} aria-label={`update`}>Сохранить</button>\r\n                </form>\r\n                <button onClick={props.onClose} name=\"buttonChangeClose\" type=\"button\" className=\"popup__close\"></button>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n    const name = React.useRef();\r\n    const link = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onSubmit(name.current.value, link.current.value);\r\n\r\n        props.onClose();\r\n    }\r\n\r\n    return (\r\n        <section className={`popup popup_new ${props.isOpen ? `popup_open` : ``}`}>\r\n            <div className={`popup__edit popup__edit_newPlace`}>\r\n                <form noValidate name=\"formChange\" className={`form form_new`} action=\"#\" method=\"post\">\r\n                    <h2 className={`form__title ${props.agree}`}>Новое место</h2>\r\n                    <input id=\"name-input\" name=\"inputChangeName\" required className=\"form__input form__input_el_name\" type=\"text\" minLength=\"2\" maxLength=\"40\" placeholder=\"Название\" ref={name} />\r\n                    <span id=\"name-input-error\" className=\"form__input-error form__input-error_el_name\"></span>\r\n                    <input id=\"job-input\" name=\"inputChangeJob\" required className=\"form__input form__input_el_spec\" type=\"text\" minLength=\"2\" maxLength=\"200\" placeholder=\"Ссылка на картинку\"  ref={link}/>\r\n                    <span id=\"job-input-error\" className=\"form__input-error form__input-error_el_spec\"></span>\r\n                    <button name=\"buttonChangeSave\" className={`form__button`} onClick={handleSubmit} aria-label={``}>Создать</button>\r\n                </form>\r\n                <button onClick={props.onClose} name=\"buttonChangeClose\" type=\"button\" className=\"popup__close\"></button>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\nimport ImagePopup from '../ImagePopup/ImagePopup.js';\r\nimport Card from '../Card/Card.js'\r\nimport {CurrentUserContext} from '../../contexts/currentUserContext.js';\r\nimport EditProfilePopup from '../EditProfilePopup/EditProfilePopup.js';\r\nimport EditAvatarPopup from '../EditAvatarPopup/EditAvatarPopup.js';\r\nimport AddPlacePopup from '../AddPlacePopup/AddPlacePopup.js';\r\n\r\n\r\n\r\nfunction Main(props) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    function likeCard(card) {\r\n        props.onCardLike(card);\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        props.onDeleteCards(card);\r\n    } \r\n\r\n    function handleSubmit(name, description) {\r\n        props.onUpdateUser({profileName: name, profileJob: description});\r\n    }\r\n\r\n    function handleAvatar(link) {\r\n        props.onUpdateAvatar(link);\r\n    }\r\n\r\n    function handleCards(name, link) {\r\n        props.onUpdateCards(name, link)\r\n    }\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__avatar\">\r\n                    <button onClick={props.onEditAvatar} className=\"profile__changeImageButton\"></button>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button onClick={props.onEditProfile} type=\"button\" className=\"profile__edit\" aria-label=\"Открытие формы\"></button>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={props.onAddPlace} type=\"button\" className=\"profile__button\" aria-label=\"Добавление карточки\"></button>\r\n            </section>\r\n            <section className=\"gallery\">\r\n                <ul className=\"elements\">\r\n                    {\r\n                        props.cards.map((card, i) => <Card \r\n                        onCardLike = {likeCard}\r\n                        onCardDelete = {handleCardDelete}\r\n                        card = {card}\r\n                        key = {i}\r\n                        onCardClick = {props.onCardClick}/>)\r\n                    }\r\n                </ul>\r\n            </section>\r\n            <EditProfilePopup \r\n                        isOpen = {props.isEditProfilePopupOpen}\r\n                        onClose = {props.onClose}\r\n                        onSubmit = {handleSubmit}\r\n\r\n            /> \r\n            <ImagePopup card={props.selectedCard}\r\n                    onClose = {props.onClose}\r\n            />\r\n            <AddPlacePopup\r\n                        isOpen = {props.isAddPlacePopupOpen} \r\n                        onClose = {props.onClose}  \r\n                        onSubmit = {handleCards}                    \r\n            />\r\n            <PopupWithForm name=\"agreement\" \r\n                        type=\"agree\" \r\n                        formType=\"sure\" \r\n                        agree=\"form__title_agree\" \r\n                        formTitle=\"Вы уверены?\"\r\n                        typeButton=\"agree\"\r\n                        buttonName=\"Да\"\r\n            />\r\n            <EditAvatarPopup\r\n                        isOpen = {props.isEditAvatarPopupOpen}  \r\n                        onClose = {props.onClose}\r\n                        onSubmit = {handleAvatar}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n//import './Footer.css'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n        <p className=\"footer__text\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","class Api {\r\n    constructor({baseURL, headers}) { //options https://mesto.nomoreparties.co/v1/cohortId/\r\n        this.baseURL = baseURL;\r\n        this.headers = headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if(res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);  \r\n        \r\n    }\r\n\r\n    getItems(id) { //id = cards +\r\n        return fetch(`${id}`, {\r\n            headers: this.headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    deleteItem(id, cardId) { //id = cards  cardId = cardId +\r\n        return fetch(`${id}/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    createItem(id, cardName, cardLink) { //id = cards +\r\n        return fetch(`${id}`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: cardName,\r\n                link: cardLink\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    putLike(id, cardId) { //id = cards/likes cardId = cardId +\r\n        return fetch(`${id}/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this.headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    removeLike(id, cardId) { //id = cards/likes cardId = cardId\r\n        return fetch(`$${id}/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    getUserInformation(id) { // id = users/me +\r\n        return fetch(`${id}`, {\r\n            headers: this.headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    profileEditing(id, profileName, profileJob) { // id = users/me +\r\n        return fetch(`${id}`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: profileName,\r\n                about: profileJob\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    avatarEditing(id, avatar) { // id = users/me/avatar +\r\n        return fetch(`${id}`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n}\r\n\r\nexport const api = new Api({\r\n    baseURL: 'https://mesto.nomoreparties.co/v1/cohort-14', \r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n        'authorization': '42b45684-18cf-461b-be7b-02246c8d8e0d'\r\n    }\r\n})","import React from 'react';\r\nimport Header from  './Header/Header.js';\r\nimport Main from './Main/Main.js';\r\nimport Footer from './Footer/Footer.js';\r\nimport {CurrentUserContext} from '../contexts/currentUserContext.js';\r\nimport {api} from '../utils/api.js';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n        api.getUserInformation('users/me'),\r\n        api.getItems('cards')\r\n    ])\r\n    .then((res) => {\r\n        const [userInfo, firstCards] = res;\r\n        setCards(firstCards);\r\n        setCurrentUser(userInfo);\r\n    })\r\n    .catch((err) => {\r\n        console.log(`Ошибка ${err}`)\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    if(isLiked) {\r\n        api.removeLike('cards/likes', card._id).then((newCard) => {\r\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n            setCards(newCards);\r\n        });\r\n    }\r\n    else {\r\n        api.putLike('cards/likes', card._id).then((newCard) => {\r\n            const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n            setCards(newCards);\r\n        });\r\n    }\r\n  } \r\n\r\n  function handleEditAvatar() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  \r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function deleteCard(card) {\r\n    api.deleteItem('cards', card._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка ${err}`);\r\n    });\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUserUpdate({profileName, profileJob}) {\r\n    api.profileEditing('users/me', profileName, profileJob)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка ${err}`);\r\n    });\r\n  }\r\n\r\n  function handleAvatarUpdate(link) {\r\n    api.avatarEditing('users/me/avatar', link)\r\n    .then((res) => {\r\n      setCurrentUser(res);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка ${err}`);\r\n    });\r\n  }\r\n\r\n  function handleCardsUpdate(name, link) {\r\n    api.createItem('cards', name, link)\r\n    .then((res) => {\r\n      setCards([...cards, res]);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка ${err}`);\r\n    });\r\n  }\r\n\r\n  return ( \r\n    <CurrentUserContext.Provider value={\r\n      currentUser\r\n    }>\r\n      <div className=\"page\">\r\n          <Header />\r\n          <Main \r\n            onEditAvatar = {handleEditAvatar}\r\n            onEditProfile = {handleEditProfileClick}\r\n            onAddPlace = {handleAddPlaceClick}  \r\n            onCardClick = {handleCardClick}\r\n            onClose = {closeAllPopups}\r\n            isEditProfilePopupOpen = {isEditProfilePopupOpen}\r\n            isAddPlacePopupOpen = {isAddPlacePopupOpen}\r\n            isEditAvatarPopupOpen = {isEditAvatarPopupOpen}\r\n            selectedCard = {selectedCard}\r\n            cards = {cards}\r\n            onDeleteCards = {deleteCard}\r\n            onUpdateUser = {handleUserUpdate}\r\n            onUpdateAvatar = {handleAvatarUpdate}\r\n            onCardLike = {handleCardLike}\r\n            onUpdateCards = {handleCardsUpdate}\r\n          />\r\n          <Footer />    \r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}